<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Custom YouTube Playlist Player</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2 id="heading">ğŸ¬ World History by Sujeet Sir Playlist</h2>

  <div class="container">
    <!-- Video Player -->
    <div class="video-container" id="videoContainer">
      <div id="player"></div>
      <div class="click-block"></div>

      <div class="controls">
        <input type="range" id="seekBar" min="0" max="100" value="0">
        <button id="backward">âª</button>
        <button id="playPauseBtn">â–¶ï¸</button>
        <button id="forward">â©</button>
        <select id="qualityControl"></select>
        <button id="fullscreenBtn">â›¶</button>
      </div>
    </div>

    <!-- Playlist -->
    <div class="playlist" id="playlist">
      <h3>ğŸ“œ Playlist</h3>
    </div>
  </div>

  <!-- YouTube API -->
  <script src="https://www.youtube.com/iframe_api"></script>
  <script>
    let player;
    let seekBar = null;
    let updateInterval;
    let currentIndex = 0;
    let isPlaying = false;

    // ğŸ”¹ Playlist Data
    const videos = [
{ id: "Pe9D79RWdCk", title: "Video 1" },
{ id: "oLwp9VKCkKs", title: "Video 2" },
{ id: "1vU7E_-coSQ", title: "Video 3" },
{ id: "e0hN0wDvDS0", title: "Video 4" },
{ id: "39vbQJuYS-E", title: "Video 5" },
{ id: "dGnnQBG5KCo", title: "Video 6" },
{ id: "w_lqgsNMBek", title: "Video 7" },
{ id: "5YahkSr_kJk", title: "Video 8" },
{ id: "4mJtC6laYNU", title: "Video 9" },
{ id: "JAy7MiF6OOk", title: "Video 10" },
{ id: "UUAyklzuZMA", title: "Video 11" },
{ id: "1cbbqBBnmFY", title: "Video 12" },
{ id: "FTDna3ijT3Y", title: "Video 13" },
{ id: "JaQ5JZNG5TU", title: "Video 14" },
{ id: "HiWnMyQ_JkA", title: "Video 15" },
{ id: "hYaYPP2UdBc", title: "Video 16" },
{ id: "65JyoOmQf50", title: "Video 17" },
{ id: "kcC0tyGqQpE", title: "Video 18" },
{ id: "Dnbgokfqe88", title: "Video 19" },
{ id: "mSD__k7aq-Y", title: "Video 20" },
{ id: "Evd3CDhP7ME", title: "Video 21" }
    ];

    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        videoId: videos[0].id,
        playerVars: { 
          'controls': 0, 
          'rel': 0, 
          'modestbranding': 1, 
          'disablekb': 1,
          'iv_load_policy': 3 
        },
        events: { 'onReady': onPlayerReady }
      });
    }

    function onPlayerReady() {
      buildPlaylist();

      // PlayPause toggle
      document.getElementById('playPauseBtn').onclick = () => {
        if (isPlaying) {
          player.pauseVideo();
          document.getElementById('playPauseBtn').innerText = "â–¶ï¸";
        } else {
          player.playVideo();
          document.getElementById('playPauseBtn').innerText = "â¸";
        }
        isPlaying = !isPlaying;
      };

      // Forward
      document.getElementById('forward').onclick = () => {
        let t = player.getCurrentTime();
        player.seekTo(t + 10, true);
      };

      // Backward
      document.getElementById('backward').onclick = () => {
        let t = player.getCurrentTime();
        player.seekTo(t - 10, true);
      };

      // Seek bar
      seekBar = document.getElementById('seekBar');
      seekBar.addEventListener('input', () => {
        let percent = seekBar.value;
        let duration = player.getDuration();
        player.seekTo(duration * (percent / 100), true);
      });

      updateInterval = setInterval(() => {
        if (player && player.getDuration) {
          let duration = player.getDuration();
          let current = player.getCurrentTime();
          if (duration > 0) {
            seekBar.value = (current / duration) * 100;
          }
        }
      }, 1000);

      // Quality Control
      document.getElementById('qualityControl').addEventListener('change', (e) => {
        player.setPlaybackQuality(e.target.value);
      });
      setTimeout(loadQualityLevels, 2000);

      // Fullscreen
      document.getElementById('fullscreenBtn').onclick = () => {
        let container = document.getElementById("videoContainer");
        if (container.requestFullscreen) container.requestFullscreen();
        else if (container.mozRequestFullScreen) container.mozRequestFullScreen();
        else if (container.webkitRequestFullscreen) container.webkitRequestFullscreen();
        else if (container.msRequestFullscreen) container.msRequestFullscreen();
      };
    }

    // Quality options à¤²à¥‹à¤¡ à¤•à¤°à¤¨à¤¾
    function loadQualityLevels() {
      let levels = player.getAvailableQualityLevels();
      let select = document.getElementById("qualityControl");
      select.innerHTML = "";

      levels.forEach(level => {
        let opt = document.createElement("option");
        opt.value = level;
        opt.text = level.toUpperCase();
        select.appendChild(opt);
      });

      // Default auto
      if (levels.includes("auto")) {
        select.value = "auto";
        player.setPlaybackQuality("360");
      }
    }

    // Playlist à¤¬à¤¨à¤¾à¤¨à¤¾
    function buildPlaylist() {
      const list = document.getElementById("playlist");
      videos.forEach((video, index) => {
        let item = document.createElement("div");
        item.className = "playlist-item" + (index === currentIndex ? " active" : "");
        item.innerText = video.title;
        item.onclick = () => changeVideo(index);
        list.appendChild(item);
      });
    }

    // Video à¤¬à¤¦à¤²à¤¨à¤¾
    function changeVideo(index) {
      if (index < 0 || index >= videos.length) return;
      currentIndex = index;
      player.loadVideoById(videos[index].id);

      // active highlight
      document.querySelectorAll(".playlist-item").forEach((el, i) => {
        el.classList.toggle("active", i === currentIndex);
      });

      document.getElementById('playPauseBtn').innerText = "â¸";
      isPlaying = true;
    }
  </script>
</body>
</html>
